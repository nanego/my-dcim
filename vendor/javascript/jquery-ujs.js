var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var e={};(function(){var jqueryUjsInit=function(e,a){e.rails!==a&&e.error("jquery-ujs has already been loaded!");var n;var r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,a,n){var r=e.Event(a);t.trigger(r,n);return false!==r.result},confirm:function(t){return confirm(t)},ajax:function(t){return e.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==a&&false!==t.data("remote")},handleRemote:function(t){var r,i,o,l,s,u;if(n.fire(t,"ajax:before")){l=t.data("with-credentials")||null;s=t.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(t.is("form")){r=t.data("ujs:submit-button-formmethod")||t.attr("method");i=t.data("ujs:submit-button-formaction")||t.attr("action");o=e(t[0]).serializeArray();var d=t.data("ujs:submit-button");if(d){o.push(d);t.data("ujs:submit-button",null)}t.data("ujs:submit-button-formmethod",null);t.data("ujs:submit-button-formaction",null)}else if(t.is(n.inputChangeSelector)){r=t.data("method");i=t.data("url");o=t.serialize();t.data("params")&&(o=o+"&"+t.data("params"))}else if(t.is(n.buttonClickSelector)){r=t.data("method")||"get";i=t.data("url");o=t.serialize();t.data("params")&&(o=o+"&"+t.data("params"))}else{r=t.data("method");i=n.href(t);o=t.data("params")||null}u={type:r||"GET",data:o,dataType:s,beforeSend:function(e,r){r.dataType===a&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script);if(!n.fire(t,"ajax:beforeSend",[e,r]))return false;t.trigger("ajax:send",e)},success:function(e,a,n){t.trigger("ajax:success",[e,a,n])},complete:function(e,a){t.trigger("ajax:complete",[e,a])},error:function(e,a,n){t.trigger("ajax:error",[e,a,n])},crossDomain:n.isCrossDomain(i)};l&&(u.xhrFields={withCredentials:l});i&&(u.url=i);return n.ajax(u)}return false},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var a=document.createElement("a");try{a.href=t;a.href=a.href;return!((!a.protocol||":"===a.protocol)&&!a.host||e.protocol+"//"+e.host===a.protocol+"//"+a.host)}catch(t){return true}},handleMethod:function(t){var r=n.href(t),i=t.data("method"),o=t.attr("target"),l=n.csrfToken(),s=n.csrfParam(),u=e('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+i+'" type="hidden" />';s===a||l===a||n.isCrossDomain(r)||(d+='<input name="'+s+'" value="'+l+'" type="hidden" />');o&&u.attr("target",o);u.hide().append(d).appendTo("body");u.submit()},formElements:function(t,a){return t.is("form")?e(t[0].elements).filter(a):t.find(a)},disableFormElements:function(a){n.formElements(a,n.disableSelector).each((function(){n.disableFormElement(e(this||t))}))},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val";n=t.data("disable-with");if(n!==a){t.data("ujs:enable-with",t[e]());t[e](n)}t.prop("disabled",true);t.data("ujs:disabled",true)},enableFormElements:function(a){n.formElements(a,n.enableSelector).each((function(){n.enableFormElement(e(this||t))}))},enableFormElement:function(t){var e=t.is("button")?"html":"val";if(t.data("ujs:enable-with")!==a){t[e](t.data("ujs:enable-with"));t.removeData("ujs:enable-with")}t.prop("disabled",false);t.removeData("ujs:disabled")},allowAction:function(t){var e,a=t.data("confirm"),r=false;if(!a)return true;if(n.fire(t,"confirm")){try{r=n.confirm(a)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(a,n,r){var i,o,l,s,u=e(),d=n||"input,textarea",m=a.find(d),f={};m.each((function(){i=e(this||t);if(i.is("input[type=radio]")){s=i.attr("name");if(!f[s]){if(0===a.find('input[type=radio]:checked[name="'+s+'"]').length){l=a.find('input[type=radio][name="'+s+'"]');u=u.add(l)}f[s]=s}}else{o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val();o===r&&(u=u.add(i))}}));return!!u.length&&u},nonBlankInputs:function(t,e){return n.blankInputs(t,e,true)},stopEverything:function(t){e(t.target).trigger("ujs:everythingStopped");t.stopImmediatePropagation();return false},disableElement:function(t){var e=t.data("disable-with");if(e!==a){t.data("ujs:enable-with",t.html());t.html(e)}t.on("click.railsDisable",(function(t){return n.stopEverything(t)}));t.data("ujs:disabled",true)},enableElement:function(t){if(t.data("ujs:enable-with")!==a){t.html(t.data("ujs:enable-with"));t.removeData("ujs:enable-with")}t.off("click.railsDisable");t.removeData("ujs:disabled")}};if(n.fire(r,"rails:attachBindings")){e.ajaxPrefilter((function(t,e,a){t.crossDomain||n.CSRFProtection(a)}));e(window).on("pageshow.rails",(function(){e(e.rails.enableSelector).each((function(){var a=e(this||t);a.data("ujs:disabled")&&e.rails.enableFormElement(a)}));e(e.rails.linkDisableSelector).each((function(){var a=e(this||t);a.data("ujs:disabled")&&e.rails.enableElement(a)}))}));r.on("ajax:complete",n.linkDisableSelector,(function(){n.enableElement(e(this||t))}));r.on("ajax:complete",n.buttonDisableSelector,(function(){n.enableFormElement(e(this||t))}));r.on("click.rails",n.linkClickSelector,(function(a){var r=e(this||t),i=r.data("method"),o=r.data("params"),l=a.metaKey||a.ctrlKey;if(!n.allowAction(r))return n.stopEverything(a);!l&&r.is(n.linkDisableSelector)&&n.disableElement(r);if(n.isRemote(r)){if(l&&(!i||"GET"===i)&&!o)return true;var s=n.handleRemote(r);false===s?n.enableElement(r):s.fail((function(){n.enableElement(r)}));return false}if(i){n.handleMethod(r);return false}}));r.on("click.rails",n.buttonClickSelector,(function(a){var r=e(this||t);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(a);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var i=n.handleRemote(r);false===i?n.enableFormElement(r):i.fail((function(){n.enableFormElement(r)}));return false}));r.on("change.rails",n.inputChangeSelector,(function(a){var r=e(this||t);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(a);n.handleRemote(r);return false}));r.on("submit.rails",n.formSubmitSelector,(function(r){var i,o,l=e(this||t),s=n.isRemote(l);if(!n.allowAction(l))return n.stopEverything(r);if(l.attr("novalidate")===a)if(l.data("ujs:formnovalidate-button")===a){i=n.blankInputs(l,n.requiredInputSelector,false);if(i&&n.fire(l,"ajax:aborted:required",[i]))return n.stopEverything(r)}else l.data("ujs:formnovalidate-button",a);if(s){o=n.nonBlankInputs(l,n.fileInputSelector);if(o){setTimeout((function(){n.disableFormElements(l)}),13);var u=n.fire(l,"ajax:aborted:file",[o]);u||setTimeout((function(){n.enableFormElements(l)}),13);return u}n.handleRemote(l);return false}setTimeout((function(){n.disableFormElements(l)}),13)}));r.on("click.rails",n.formInputClickSelector,(function(a){var r=e(this||t);if(!n.allowAction(r))return n.stopEverything(a);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;var l=r.closest("form");0===l.length&&(l=e("#"+r.attr("form")));l.data("ujs:submit-button",o);l.data("ujs:formnovalidate-button",r.attr("formnovalidate"));l.data("ujs:submit-button-formaction",r.attr("formaction"));l.data("ujs:submit-button-formmethod",r.attr("formmethod"))}));r.on("ajax:send.rails",n.formSubmitSelector,(function(a){(this||t)===a.target&&n.disableFormElements(e(this||t))}));r.on("ajax:complete.rails",n.formSubmitSelector,(function(a){(this||t)===a.target&&n.enableFormElements(e(this||t))}));e((function(){n.refreshCSRFTokens()}))}};window.jQuery?jqueryUjsInit(jQuery):e=jqueryUjsInit})();var a=e;export default a;

